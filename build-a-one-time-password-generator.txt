** start of index.html **

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>OTP Generator</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.3.1/umd/react.development.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.3.1/umd/react-dom.development.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.26.5/babel.min.js"></script>
    <script
      data-plugins="transform-modules-umd"
      type="text/babel"
      src="index.jsx"
    ></script>
</head>

<body>
    <div id="root"></div>
    <script
      data-plugins="transform-modules-umd"
      type="text/babel"
      data-presets="react"
      data-type="module"
    >
      import { OTPGenerator } from './index.jsx';
      ReactDOM.createRoot(document.getElementById('root')).render(<OTPGenerator />);
    </script>
</body>

</html>

** end of index.html **

** start of styles.css **



** end of styles.css **

** start of index.jsx **

const { useState, useEffect, useRef } = React;







export const OTPGenerator = () => {

  const h2Ref = useRef(null);
  const btnRef = useRef(null);
  const pRef = useRef(null);
  const [count, setCount] = useState(6);
  const [isExpired, setExpired] = useState(true)
  

  const handleOTPnum = () => {
    setExpired(false)
    setCount(5);
    if (h2Ref.current) {
      const otpNum = Array(0,0,0,0,0,0)
      h2Ref.current.textContent = otpNum.map( x => x = Math.floor(Math.random()*9.1)).join("")
    }
    if (btnRef.current) {
      btnRef.current.style.cursor = 'not-allowed';
      btnRef.current.disabled = true;
      setTimeout(() => {
        btnRef.current.disabled = false;
        btnRef.current.style.cursor = 'default';
        setExpired(true)        
      }, 5000);      
    }
    
    

    
  };
  useEffect(()=>{
    
      if (pRef.current) {
        if (!isExpired){
          for (let i = count; i >= 0; --i) {
              setTimeout(()=>{
                setCount(count -1);},1000);
          }
          if (count <= 5 && count > 0) {      
            pRef.current.textContent = `Expires in: ${count} seconds`
          }
        } else {
          if (count > 5) {
            pRef.current.textContent = ""
          } else {
            pRef.current.textContent = `OTP expired. Click the button to generate a new OTP.`
          }
        }
      }
  },[count])
  






  return(
    <div className="container">
      <h1 id="otp-title">OTP Generator</h1>
      <h2 ref={h2Ref} id="otp-display">Click 'Generate OTP' to get a code</h2>
      <p  ref={pRef} id="otp-timer" aria-live="assertive">Click 'Generate OTP' to get a code</p>
      <button ref={btnRef} id="generate-otp-button" onClick={handleOTPnum} >Generate OTP</button>
    
    </div>
  )

};

** end of index.jsx **

